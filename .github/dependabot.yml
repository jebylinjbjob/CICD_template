version: 2

updates:
  # ==========================================
  # 1. NuGet å¥—ä»¶ç›¸ä¾æ€§æ›´æ–°
  # ==========================================
  - package-ecosystem: 'nuget'
    directory: '/' # å¾æ ¹ç›®éŒ„éè¿´æƒææ‰€æœ‰ .csproj æª”æ¡ˆ
    target-branch: 'dependa' # PR ç›®æ¨™åˆ†æ”¯ï¼ˆéœ€è¦å…ˆå»ºç«‹æ­¤åˆ†æ”¯ï¼‰
    schedule:
      interval: 'weekly' # æ¯é€±æª¢æŸ¥ä¸€æ¬¡
      day: 'monday' # æ¯é€±ä¸€
      time: '02:00' # å°åŒ—æ™‚é–“å‡Œæ™¨ 2 é»
      timezone: 'Asia/Taipei'
    open-pull-requests-limit: 10 # åŒæ™‚æœ€å¤šé–‹å•Ÿ 10 å€‹ PR
    rebase-strategy: 'auto' # è‡ªå‹• rebase éæ™‚çš„ PR
    labels:
      - 'dependencies'
      - 'automated'
      - 'nuget'
    commit-message:
      prefix: 'deps' # commit è¨Šæ¯å‰ç¶´
      include: 'scope' # åŒ…å«å¥—ä»¶ç¯„åœ
    groups:
      # åˆ†çµ„ï¼šæ¬¡è¦ç‰ˆæœ¬å’Œä¿®è£œç‰ˆæœ¬æ›´æ–°
      nuget-minor-patch:
        applies-to: version-updates
        update-types:
          - 'minor'
          - 'patch'
        patterns:
          - '*' # åŒ…å«æ‰€æœ‰å¥—ä»¶
      # åˆ†çµ„ï¼šä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼ˆåƒ…å»ºç«‹ PRï¼Œä¸è‡ªå‹•åˆä½µï¼‰
      nuget-major:
        applies-to: version-updates
        update-types:
          - 'major'
        patterns:
          - '*'

  # ==========================================
  # 2. GitHub Actions æ›´æ–°
  # ==========================================
  - package-ecosystem: 'github-actions'
    directory: '/.github/workflows'
    target-branch: 'dependa' # PR ç›®æ¨™åˆ†æ”¯ï¼ˆéœ€è¦å…ˆå»ºç«‹æ­¤åˆ†æ”¯ï¼‰
    schedule:
      interval: 'weekly' # æ¯é€±æª¢æŸ¥ä¸€æ¬¡
      day: 'monday' # æ¯é€±ä¸€
      time: '02:30' # å°åŒ—æ™‚é–“å‡Œæ™¨ 2:30
      timezone: 'Asia/Taipei'
    open-pull-requests-limit: 10 # åŒæ™‚æœ€å¤šé–‹å•Ÿ 10 å€‹ PR
    rebase-strategy: 'auto'
    labels:
      - 'dependencies'
      - 'automated'
      - 'github-actions'
    commit-message:
      prefix: 'chore'
      include: 'scope'
    groups:
      # æ¬¡è¦ç‰ˆæœ¬å’Œä¿®è£œç‰ˆæœ¬æ›´æ–°
      ghactions-minor-patch:
        applies-to: version-updates
        update-types:
          - 'minor'
          - 'patch'
        patterns:
          - '*'
      # ä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼ˆåƒ…å»ºç«‹ PRï¼Œä¸è‡ªå‹•åˆä½µï¼‰
      ghactions-major:
        applies-to: version-updates
        update-types:
          - 'major'
        patterns:
          - '*'
# ==========================================
# æ³¨æ„äº‹é …ï¼š
# ==========================================
# 1. ç§æœ‰ NuGet ä¾†æºï¼ˆnuget.abp.ioï¼‰ï¼š
#    - å¦‚éœ€ Dependabot å­˜å–ç§æœ‰ä¾†æºï¼Œéœ€è¦åœ¨ GitHub è¨­å®šä¸­
#      æ–°å¢ NuGet registry èªè­‰
#    - è·¯å¾‘ï¼šSettings â†’ Secrets and variables â†’ Actions â†’ Dependabot secrets
#
# 2. æ›´æ–°ç­–ç•¥ï¼š
#    - âœ… å°æ‰€æœ‰ç‰ˆæœ¬å‹åˆ¥ï¼ˆmajor/minor/patchï¼‰å»ºç«‹ PRï¼ˆä¸è‡ªå‹•åˆä½µï¼‰
#    - ğŸ™Œ ç”±äººç‚ºå¯©æŸ¥æ±ºå®šæ˜¯å¦åˆä½µï¼Œç¢ºä¿ç©©å®šèˆ‡å¯æ§
#
# 3. åˆ†çµ„åŠŸèƒ½ï¼š
#    - nuget-minor-patchï¼šNuGet å°ç‰ˆæœ¬æ›´æ–°ï¼ˆä¸€å€‹ PR åŒ…å«æ‰€æœ‰ï¼‰
#    - ghactions-minor-patchï¼šGitHub Actions å°ç‰ˆæœ¬æ›´æ–°ï¼ˆä¸€å€‹ PR åŒ…å«æ‰€æœ‰ï¼‰
#
# 4. æ¨™ç±¤ä½¿ç”¨ï¼š
#    - æ‰€æœ‰è‡ªå‹•åŒ– PR éƒ½æœƒåŠ ä¸Š "dependencies" å’Œ "automated" æ¨™ç±¤
#    - å¯ä»¥æ ¹æ“šæ¨™ç±¤è¨­å®šå¯©æŸ¥è¦å‰‡æˆ–è‡ªå‹•åˆä½µæ¢ä»¶
#
# 5. å¦‚æœæŸå€‹å¥—ä»¶é€ æˆå•é¡Œï¼Œå¯ä»¥åŠ å…¥ ignore æ¸…å–®ï¼š
#    ignore:
#      - dependency-name: "PackageName"
#
# 6. å°ˆæ¡ˆä¸Šç·šå¾Œè‹¥è¦å•Ÿç”¨ä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼š
#    - ç§»é™¤ ignore å€å¡Šä¸­çš„ major é™åˆ¶
#    - æ–°å¢ nuget-major å’Œ ghactions-major åˆ†çµ„
#    - å»ºè­°åœ¨éä¸Šç·šæœŸé–“é€²è¡Œè©•ä¼°å’Œæ¸¬è©¦
